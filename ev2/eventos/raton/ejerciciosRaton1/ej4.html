<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Brendan - DAW226</title>
    <script type="text/javascript">
      addEventListener('load',inicio,true);
      function inicio() {
        var caja = document.getElementById("mydiv");
        caja.addEventListener('click',mover,false);
        caja.addEventListener('dblclick',soltar,false);
        // caja.removeEventListener('dblclick',mover,false);
      }
      function mover() {
        document.onclick = function(e) {
          x1 = e.clientX;
          y1 = e.clientY;
        }
        document.getElementById("mydiv").onmousemove = function(e) {
          // console.log(e);
          var x2 = e.clientX;
          var y2 = e.clientY;
          document.getElementById('mydiv').style.left  = (x2-x1)+"px";
          document.getElementById('mydiv').style.top  = (y2-y1)+"px";
        }
      }
      function soltar() {
        document.getElementById("mydiv").onmouseup = function(e) {
          var x2 = e.clientX;
          var y2 = e.clientY;
          document.getElementById('mydiv').style.left  = x2+"px";
          document.getElementById('mydiv').style.top  = y2+"px";
        }
      }
    </script>
    <style media="screen">
      #mydiv{
        position: absolute;
        height: 100px;
        width: 100px;
        background-color: yellow;
        border: solid;
      }
    </style>
  </head>
  <body>
    <div id="mydiv">

    </div>
  </body>
</html>
